import{initializeApp as e}from"https://www.gstatic.com/firebasejs/9.4.0/firebase-app.js";import{getFirestore as t,addDoc as i,collection as a}from"https://www.gstatic.com/firebasejs/9.4.0/firebase-firestore.js";let loading=!1,firebaseConfig={apiKey:"AIzaSyCfZOEwgAphf0XL66oaoDtkgAKeQKlLmf4",authDomain:"contactform-90103.firebaseapp.com",databaseURL:"https://contactform-90103-default-rtdb.europe-west1.firebasedatabase.app",projectId:"contactform-90103",storageBucket:"contactform-90103.appspot.com",messagingSenderId:"408888185041",appId:"1:408888185041:web:58fb61a2d1f940e3dcf5f0"},app=e(firebaseConfig),db=t(app),email=emailjs.init("Z1jyCZozX_0RWb16t");document.getElementById("registerForm").addEventListener("submit",async function(e){e.preventDefault(),document.getElementById("submit").setAttribute("disabled","disabled"),document.getElementById("submit").classList.add("disabled"),document.getElementById("text-submit").style.visibility="hidden",document.getElementById("loader").style.visibility="visible";try{let t=document.getElementById("name").value,s=document.getElementById("email").value,d=await i(a(db,"users"),{name:t,email:s});console.log("Document written with ID: ",d.id),d&&emailjs.send("default_service","template_x2v921v",{name:t,reply_to:s}).then(e=>{loading=!1,document.getElementById("submit").removeAttribute("disabled"),document.getElementById("submit").classList.remove("disabled"),window.location.href="gracias"},e=>{console.log(e),document.getElementById("submit").removeAttribute("disabled"),document.getElementById("submit").classList.remove("disabled")})}catch(m){console.error("Error adding document: ",m),loading=!1,document.getElementById("submit").removeAttribute("disabled"),document.getElementById("submit").classList.remove("disabled")}});